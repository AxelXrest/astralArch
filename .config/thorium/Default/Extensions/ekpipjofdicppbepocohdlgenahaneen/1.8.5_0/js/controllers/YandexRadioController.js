!function e(t,s,i){function o(l,n){if(!s[l]){if(!t[l]){var a="function"==typeof require&&require;if(!n&&a)return a(l,!0);if(r)return r(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var u=s[l]={exports:{}};t[l][0].call(u.exports,(function(e){return o(t[l][1][e]||e)}),u,u.exports,e,t,s,i)}return s[l].exports}for(var r="function"==typeof require&&require,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(e,t,s){"use strict";new(e("MouseEventController"))({siteName:"Yandex Radio",playPause:".player-controls__play",playNext:".slider__item_next",playState:".body_state_playing",mute:".volume__btn",like:".player-controls .like_action_like",dislike:".player-controls .like_action_dislike",song:".player-controls__title",artist:".player-controls__artists"}).mute=function(){this.mousedown({action:"mute",selectorButton:this.selectors.mute,selectorFrame:this.selectors.iframe})}},{MouseEventController:3}],2:[function(e,t,s){"use strict";!function(){var s=e("../modules/SKLog.js");function i(e){this.siteName=e.siteName||null,this.selectors={playPause:e.playPause||null,play:e.play||null,pause:e.pause||null,playNext:e.playNext||null,playPrev:e.playPrev||null,mute:e.mute||null,like:e.like||null,confirmLike:e.confirmLike||null,dislike:e.dislike||null,confirmDislike:e.confirmDislike||null,iframe:e.iframe||null,playState:e.playState||null,song:e.song||null,artist:e.artist||null,album:e.album||null,art:e.art||null,currentTime:e.currentTime||null,totalTime:e.totalTime||null},Object.defineProperties(this.selectors,Object.keys(this.selectors).reduce(function(e,t){var s=this.selectors[t];return"function"==typeof s&&(e[t]={get:s.bind(this)}),e}.bind(this),{})),this.oldState={},this.buttonSwitch=e.buttonSwitch||!1,this.attachListeners(),this.hidePlayer=e.hidePlayer||!1,this.overridePlayPrev=e.overridePlayPrev||!1,this.overridePlayPause=e.overridePlayPause||!1,this.overridePlayNext=e.overridePlayNext||!1,chrome.runtime.sendMessage({created:!0},(function(){s("SK content script loaded")}))}i.prototype.doc=function(){var e=document;return this.selectors.iframe&&document.querySelector(this.selectors.iframe)&&document.querySelector(this.selectors.iframe).tagName.indexOf("FRAME")>-1&&(e=document.querySelector(this.selectors.iframe).contentWindow.document),e},i.prototype.injectScript=function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),e.url&&t.setAttribute("src",chrome.extension.getURL(e.url)),e.script&&(t.innerHTML=e.script),(document.head||document.documentElement).appendChild(t)},i.prototype.click=function(e){if(null!==(e=e||{}).selectorButton){try{this.doc().querySelector(e.selectorButton).click(),s(e.action)}catch(t){s("Element not found for click.",e.selectorButton,!0)}this.updatePlayerState()}else s("disabled",e.action)},i.prototype.playPause=function(){null!==this.selectors.play&&null!==this.selectors.pause?this.isPlaying()?this.click({action:"playPause",selectorButton:this.selectors.pause,selectorFrame:this.selectors.iframe}):this.click({action:"playPause",selectorButton:this.selectors.play,selectorFrame:this.selectors.iframe}):this.click({action:"playPause",selectorButton:this.selectors.playPause,selectorFrame:this.selectors.iframe})},i.prototype.playNext=function(){this.click({action:"playNext",selectorButton:this.selectors.playNext,selectorFrame:this.selectors.iframe})},i.prototype.playPrev=function(){this.click({action:"playPrev",selectorButton:this.selectors.playPrev,selectorFrame:this.selectors.iframe})},i.prototype.stop=function(){this.isPlaying()&&this.playPause()},i.prototype.mute=function(){this.click({action:"mute",selectorButton:this.selectors.mute,selectorFrame:this.selectors.iframe})},i.prototype.like=function(){if(this.click({action:"like",selectorButton:this.selectors.like,selectorFrame:this.selectors.iframe}),null!==this.selectors.confirmLike){var e=this;new MutationObserver((function(){this.disconnect(),e.click({action:"confirmLike",selectorButton:e.selectors.confirmLike,selectorFrame:e.selectors.iframe})})).observe(document.documentElement,{childList:!0,subtree:!0})}},i.prototype.dislike=function(){if(this.click({action:"dislike",selectorButton:this.selectors.dislike,selectorFrame:this.selectors.iframe}),null!==this.selectors.confirmDislike){var e=this;new MutationObserver((function(){this.disconnect(),e.click({action:"confirmDislike",selectorButton:e.selectors.confirmDislike,selectorFrame:e.selectors.iframe})})).observe(document.documentElement,{childList:!0,subtree:!0})}},i.prototype.isPlaying=function(){var e=this.doc().querySelector(this.selectors.play),t=!1;if(this.buttonSwitch)t=null===e;else if(this.selectors.playState){var s=this.doc().querySelector(this.selectors.playState);t=!(!s||"none"===window.getComputedStyle(s,null).getPropertyValue("display"))}else e&&(t="none"===window.getComputedStyle(e,null).getPropertyValue("display"));return t},i.prototype.updatePlayerState=function(){this.checkPlayer&&this.checkPlayer();var e=this.getStateData();JSON.stringify(e)!==JSON.stringify(this.oldState)&&(s("Player state change"),this.getSongChanged(e)&&chrome.runtime.sendMessage({action:"send_change_notification",stateData:e}),this.oldState=e,chrome.runtime.sendMessage({action:"update_player_state",stateData:e}))},i.prototype.getStateData=function(){return{song:null===this.getSongData(this.selectors.song)?null:this.getSongData(this.selectors.song).replace(/\s+/g," "),artist:null===this.getSongData(this.selectors.artist)?null:this.getSongData(this.selectors.artist).replace(/\s+/g," "),album:null===this.getSongData(this.selectors.album)?null:this.getSongData(this.selectors.album).replace(/\s+/g," "),art:this.getArtData(this.selectors.art),currentTime:this.getSongData(this.selectors.currentTime),totalTime:this.getSongData(this.selectors.totalTime),isPlaying:this.isPlaying(),siteName:null==this.siteName?null:this.siteName.replace(/\s+/g," "),canDislike:!(!this.selectors.dislike||!this.doc().querySelector(this.selectors.dislike)),canPlayPrev:this.overridePlayPrev||!(!this.selectors.playPrev||!this.doc().querySelector(this.selectors.playPrev)),canPlayPause:this.overridePlayPause||!!(this.selectors.playPause&&this.doc().querySelector(this.selectors.playPause)||this.selectors.play&&this.doc().querySelector(this.selectors.play)||this.selectors.pause&&this.doc().querySelector(this.selectors.pause)),canPlayNext:this.overridePlayNext||!(!this.selectors.playNext||!this.doc().querySelector(this.selectors.playNext)),canLike:!(!this.selectors.like||!this.doc().querySelector(this.selectors.like)),hidePlayer:this.hidePlayer}},i.prototype.getSongChanged=function(e){return this.oldState&&e&&this.oldState.song!==e.song},i.prototype.getSongData=function(e){if(!e)return null;var t=this.doc().querySelector(e);return t&&t.textContent?t.textContent:null},i.prototype.getArtData=function(e){if(!e)return null;var t=this.doc().querySelector(e);return t&&t.attributes&&t.attributes.src?t.attributes.src.value:null},i.prototype.doRequest=function(e,t,s){if(void 0!==e&&("playPause"===e.action&&this.playPause(),"playNext"===e.action&&this.playNext(),"playPrev"===e.action&&this.playPrev(),"stop"===e.action&&this.stop(),"mute"===e.action&&this.mute(),"like"===e.action&&this.like(),"dislike"===e.action&&this.dislike(),"playerStateNotify"===e.action&&chrome.runtime.sendMessage({action:"send_change_notification",stateData:this.getStateData()}),"getPlayerState"===e.action)){var i=this.getStateData();this.oldState=i,s(i)}},i.prototype.attachListeners=function(){chrome.runtime.onMessage.addListener(this.doRequest.bind(this)),setInterval(this.updatePlayerState.bind(this),200),s("Attached listener for ",this)},t.exports=i}()},{"../modules/SKLog.js":5}],3:[function(e,t,s){"use strict";!function(){var s=e("BaseController"),i=e("../modules/MouseEventDispatcher.js"),o=e("../modules/SKLog.js");function r(){s.apply(this,arguments)}r.prototype=Object.create(s.prototype),r.prototype.constructor=r,i.eachTypes((function(e){Object.prototype.hasOwnProperty.call(s.prototype,e)||(r.prototype[e]=function(t,s){if(null!==(t=t||{}).selectorButton){try{var r=this.doc().querySelector(t.selectorButton);i.dispatch(r,e,s),t.action&&o(t.action)}catch(s){o("Element not found for "+e+".",t.selectorButton,!0)}this.updatePlayerState()}else o("disabled",t.action)})})),t.exports=r}()},{"../modules/MouseEventDispatcher.js":4,"../modules/SKLog.js":5,BaseController:2}],4:[function(e,t,s){"use strict";!function(){function e(){throw"MouseEventDispatcher cannot be instantiated."}e.eventTypes=["mouseclick","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup"],e.dispatch=function(e,t,s){"string"==typeof e&&(e=document.querySelector(e)),"mouseclick"===t&&(t="click"),s=s||{};var i=document.createEvent("MouseEvents");i.initMouseEvent(t,s.canBubble||!0,s.cancelable||!0,s.view||window,s.detail||1,s.screenX||0,s.screenY||0,s.clientX||0,s.clientY||0,s.ctrlKey||!1,s.altKey||!1,s.shiftKey||!1,s.metaKey||!1,s.button||0,s.relatedTarget||null),e.dispatchEvent(i)},e.eachTypes=function(e){for(var t=0;t<this.eventTypes.length;t++)e(this.eventTypes[t])},e.eachTypes((function(t){e[t]=function(s,i){e.dispatch(s,t,i)}})),t.exports=e}()},{}],5:[function(e,t,s){"use strict";t.exports=function(e,t,s){e&&(t=t||"",s?(console.error("STREAMKEYS-ERROR: "+e,t),e="ERROR: "+e):console.log("STREAMKEYS-INFO: "+e,t))}},{}]},{},[1]);